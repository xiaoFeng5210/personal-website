---
publishDate: 2023-08-09T00:00:00Z
author: 张庆风
title: WEB端语音问题记录
image: https://images.unsplash.com/photo-1637144113536-9c6e917be447?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1674&q=80
tags:
    - web
    - audio
---

> 在 web 端，语音播放有很大的限制，谷歌浏览器自动检查，当页面没有任何的交互行为时（如点击，触摸等事件），如果自行 audio.play()播放语音，这时候会报错，并且不会有任何声音出来。

### 最常见解决方法

- 最常见的解决方法就是对于一些要自动播放的语音，我们在做网页时提前给用户一个信息触发，让他有交互事件后再允许声音的播放
- 第二种是设置声音为静音🔇，然后让用户自己提高声音
> 上述方法都是通过一些另辟蹊径的方法来让用户必须触发交互行为后，再播放语音。

### 少见的情况
一般在安卓的应用上或者普通的 pc 浏览器上，交互行为触发后就可以自动播放语音了（轮询播放，请求播放等），但是在一些 mac 或者少见的一些情况下，我们发现只触发交互行为，声音还是没有成功播放出来。
#### 解决办法
解决办法就是在提前的交互行为中，我们把交互行为的回调函数里立即触发语音的播放，然后其他就顺其自然了。
